function checkLogin(){if(quick){var e=(new Date).getTime();$.post(getAppPath()+"/checkquicklogin?s="+sessionId+"&t="+e,{},function(e){var t=jQuery.parseJSON(e);"S"===t.status&&(clearInterval(ha_timeid),window.location.href=null!=t.url?t.url:"memberCenter/")})}}function loginSynctime(){var e=(new Date).getTime();$.post(getAppPath()+"/loginSynctime?t="+e,{},function(e){var t=jQuery.parseJSON(e);timeOffSet=t.timeOffSet,GenTscFetch()})}function loginTokenFetch(){$.post(getAppPath()+"/loginTokenFetch?&type="+tsctype,{},function(e){var t=jQuery.parseJSON(e);userToken=t.userToken,deviceId=t.deviceId,GenTscFetch()})}function GenTscFetch(){null!=deviceId&&""!=deviceId&&"undefined"!=deviceId&&null!=userToken&&""!=userToken&&"undefined"!=userToken&&null!=timeOffSet&&""!=timeOffSet&&"undefined"!=timeOffSet&&(setInterval(tscFun,6e5),doGenTsc(tsctype,{width:tscwidth,height:tscheight},deviceId,userToken,timeOffSet))}function tscFun(){loginSynctime(),loginTokenFetch()}function clearIntervalTime(){clearInterval(ha_timeid)}function qrLogin(){quick=!0}function traditionLogin(){quick=!1}function isQRLogin(){return quick}var tscParam=getTscParam(),sessionId=tscParam.sessionId,tsctype=tscParam.type,tscwidth=tscParam.width,tscheight=tscParam.height,deviceId,userToken,timeOffSet,ha_timeid,quick=!0,ha_userTokenFectch,ha_synctime,ha_did;$(function(){"002"==tsctype&&(ha_timeid=setInterval(checkLogin,3e3)),loginSynctime(),loginTokenFetch()});